{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "const nodePool = require('PrefabMsg');\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n     \r\n        // 壮汉的最大移动速度_(:з」∠)_\r\n        maxMoveSpeed: 0,\r\n        // 壮汉移动的加速度_(:з」∠)_\r\n        accel: 0,\r\n        \r\n        //引用对象池\r\n        firePool: {\r\n            default: null,\r\n            type: nodePool\r\n        }\r\n    },\r\n\r\n     setInputControl: function () {\r\n        var self = this;\r\n        // 添加键盘事件监听器_(:з」∠)_\r\n        cc.eventManager.addListener({\r\n            event: cc.EventListener.KEYBOARD,\r\n            // 根据按下的按键，设置向对应方向加速_(:з」∠)_\r\n            onKeyPressed: function(keyCode, event) {\r\n                switch(keyCode) {\r\n                    case cc.KEY.left:\r\n                        self.accLeft = true;\r\n                        self.accRight = false;\r\n                        break;\r\n                    case cc.KEY.right:\r\n                        self.accLeft = false;\r\n                        self.accRight = true;\r\n                        break;\r\n                    case cc.KEY.a:  // 按a建  获取一个火球\r\n                        self.firePool.createPrefabNode(self.node);\r\n                        break;\r\n                }\r\n            },\r\n            // 松开按键时，停止移动_(:з」∠)_\r\n            onKeyReleased: function(keyCode, event) {\r\n                switch(keyCode) {\r\n                    case cc.KEY.left:\r\n                        self.accLeft = false ;\r\n                        self.xSpeed = 0;\r\n                        break;\r\n                    case cc.KEY.right:\r\n                        self.accRight = false ;\r\n                        self.xSpeed = 0;\r\n                        break;\r\n                }\r\n            },\r\n            \r\n            \r\n           \r\n            \r\n            \r\n        }, self.node);\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n      \r\n        // 加速度方向开关_(:з」∠)_\r\n        this.accLeft = false;\r\n        this.accRight = false;\r\n        // 主角当前水平方向速度_(:з」∠)_\r\n        this.xSpeed = 0;\r\n\r\n        // 初始化输入控制_(:з」∠)_\r\n        this.setInputControl();\r\n        \r\n        //this.firePool = new cc.nodePool('PrefabMsg');\r\n    },\r\n    update: function (dt) {\r\n        // 根据当前加速度方向每帧更新速度_(:з」∠)_\r\n        if (this.accLeft) {\r\n            this.xSpeed -= this.accel * dt;\r\n           \r\n          \r\n        } else if (this.accRight) {\r\n            this.xSpeed += this.accel * dt;\r\n         \r\n           \r\n        }\r\n        // 限制主角的速度不能超过最大值_(:з」∠)_\r\n        if ( Math.abs(this.xSpeed) > this.maxMoveSpeed ) {\r\n            // if speed reach limit, use max speed with current direction\r\n            this.xSpeed = this.maxMoveSpeed * this.xSpeed / Math.abs(this.xSpeed);\r\n        }\r\n\r\n        // 根据当前速度更新壮汉的位置，但是不能超过屏幕范围_(:з」∠)_\r\n        if(this.node.x >= 0){\r\n            this.node.x += this.xSpeed * dt;\r\n        }\r\n        else{\r\n            this.xSpeed = 0;\r\n          \r\n            this.node.x += 1;\r\n          \r\n        }\r\n         if(this.node.x <= 1100){\r\n             this.node.x += this.xSpeed * dt;\r\n         }\r\n        else{\r\n            this.xSpeed = 0;\r\n          \r\n            this.node.x -= 1;\r\n          \r\n        }\r\n        \r\n        let childs = this.getComponentsInChildren('fire'); //return Component[]\r\n        for (var i = childs.length - 1; i >= 0; i--) {\r\n            if(childs[i].fireSpeed == 0){\r\n                this.firePool.releasePrefabNode(childs[i]);\r\n            }\r\n        }\r\n        \r\n    },\r\n\r\n\r\n});\r\n"
  ]
}